(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71a2d52e"],{1799:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPages>1?a("div",{staticClass:"mb-4 mt-6"},[a("div",{staticClass:"flex align-center justify-center"},[a("div",{staticClass:"flex"},[t.isFirst?a("PaginationItem",{staticClass:"rounded rounded-r-none",on:{"hanlder-click":function(e){return t.handlerPage(t._currentPage-1)}}},[t._v("\n        Previous\n      ")]):t._e()],1),a("div",{staticClass:"flex"},t._l(t._pages,function(e){return a("PaginationItem",{key:e,class:{"cursor-default text-white pointer-events-none bg-blue-dark":t._currentPage===e},on:{"hanlder-click":function(a){return t.handlerPage(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),1),a("div",{staticClass:"flex"},[t.isLast?a("PaginationItem",{on:{"hanlder-click":function(e){return t.handlerPage(t._currentPage+1)}}},[t._v("\n        Next\n      ")]):t._e()],1)])]):t._e()},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"inline-block no-underline text-grey-darker bg-white p-2 px-3 shadow-md",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handlerClick(e)}}},[t._t("default")],2)},r=[],c={methods:{handlerClick:function(){this.$emit("hanlder-click")}}},o=c,u=a("2877"),d=Object(u["a"])(o,s,r,!1,null,null,null),l=d.exports,f={props:["currentPage","pageLimit","pages"],components:{PaginationItem:l},data:function(){return{isHasTotalPages:!1,isFirst:!1,isLast:!1,_pages:[]}},computed:{_currentPage:function(){return this.currentPage},_pageLimit:function(){return this.pageLimit||8},totalPages:function(){return this.pages&&!this.isHasTotalPages&&(this.isHasTotalPages=!0,this.pagination(1,this.pages)),this.pages}},methods:{handlerPage:function(t){this.$emit("handler-page",t),this.pagination(t,this.totalPages)},pagination:function(t,e){var a,n;this._pages=[];n=a=Math.min(t,e);for(var i=1;i<this._pageLimit&&i<e;)n>1&&(n--,i++),i<this._pageLimit&&a<e&&(a++,i++);for(var s=n;s<=a;s++)this._pages.push(s);this.isFirst=-1===this._pages.indexOf(1),this.isLast=-1===this._pages.indexOf(e)}}},g=f,p=Object(u["a"])(g,n,i,!1,null,"2b53fe80",null);e["a"]=p.exports},"1e35":function(t,e,a){"use strict";var n=a("7424"),i="/products";e["a"]={getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])().get("".concat(i),{params:t})},getProductsById:function(t){return Object(n["a"])().get("".concat(i,"/").concat(t))},getProductsRelatedById:function(t){return Object(n["a"])().get("".concat(i,"/").concat(t,"/related"))},getProductsByPage:function(t){return Object(n["a"])().get("".concat(i,"?page=").concat(t))},updateProduct:function(t){return Object(n["a"])().post("".concat(i),t)}}},"77ca":function(t,e,a){"use strict";a("7f7f");var n=a("f499"),i=a.n(n),s=a("cebc"),r=a("2f62"),c=a("fa7d");e["a"]={methods:Object(s["a"])({},Object(r["b"])(["addCart","refreshCart","incrementCart"]),{addToCart:function(t){var e=JSON.parse(localStorage.getItem("cart"))||[];if(localStorage.setItem("last-add",i()(t)),e.length){var a=Object(c["a"])(e,t._id);a?(this.incrementCart(a),localStorage.setItem("cart",i()(e)),this.refreshCart(a)):this.updateToCart(e,t)}else this.updateToCart(e,t)},updateToCart:function(t,e){var a={id:e._id,image:e.image,name:e.name,price:e.price,subtotal:1*e.price,qty:1};t.push(a),this.addCart(a),localStorage.setItem("cart",i()(t))}})}},"93d7":function(t,e,a){},a21f:function(t,e,a){var n=a("584a"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},be6f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("router-link",{staticClass:"block min-height",attrs:{tag:"a",to:{name:"product",params:{id:t.product._id}}}},[a("img",{attrs:{src:t.product.image||"/legumes.jpg",alt:t.product.name}})]),a("div",{staticClass:"p-3"},[a("h3",{staticClass:"text-lg mb-1 leading-tight font-medium"},[t._v(t._s(t.product.name))]),a("p",{staticClass:"font-semibold text-md mb-2"},[t._v(t._s(t._f("currency")(t.product.price)))]),a("p",{staticClass:"text-sm text-grey-darker mb-2"},[t._v(t._s(t.product.description.substring(0,50)))]),a("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white",on:{click:function(e){return t.addToCart(t.product)}}},[t._v("\n      Ajouter au panier\n    ")])])],1)},i=[],s=a("77ca"),r={props:["product"],mixins:[s["a"]]},c=r,o=(a("dff8"),a("2877")),u=Object(o["a"])(c,n,i,!1,null,"6c81103c",null);e["a"]=u.exports},dff8:function(t,e,a){"use strict";var n=a("93d7"),i=a.n(n);i.a},e6dc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container max-w-xl mx-auto mb-4 px-4"},[a("div",{staticClass:"flex flex-wrap"},[a("div",{staticClass:"w-full"},[t.loggedIn&&"fwattier"===t.user?a("div",{staticClass:"admin"},[a("div",{staticClass:"title"},[t._v("Liste des produits")]),t._l(t.products,function(e){return a("div",[a("div",{staticClass:"product"},[a("div",{staticClass:"p-3"},[a("h3",{staticClass:"text-lg mb-1 leading-tight font-medium"},[t._v(t._s(e.name))]),a("p",{staticClass:"font-semibold text-md mb-2"},[t._v(t._s(t._f("currency")(e.price)))]),a("p",{staticClass:"text-sm text-grey-darker mb-2"},[t._v(t._s(e.description.substring(0,50)))]),a("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white",on:{click:function(a){return t.edit(e)}}},[t._v("\n                Modifier\n              ")])])])])})],2):t._e()])])])},i=[],s=a("cebc"),r=a("2f62"),c=a("1e35"),o=a("be6f"),u=a("1799"),d=a("1d9f"),l={components:{Product:o["a"],Pagination:u["a"],Categories:d["a"]},data:function(){return{user:localStorage.getItem("user"),products:[]}},computed:Object(s["a"])({},Object(r["c"])({loggedIn:"isAuthenticated"})),created:function(){var t=this;c["a"].getProducts().then(function(e){t.products=e.data.products})},mounted:function(){},methods:{edit:function(t){console.log(t),this.$router.push("/product/edit/"+t._id)}}},f=l,g=a("2877"),p=Object(g["a"])(f,n,i,!1,null,"0a2cfc5c",null);e["default"]=p.exports},f499:function(t,e,a){t.exports=a("a21f")}}]);
//# sourceMappingURL=chunk-71a2d52e.4b32aa7a.js.map