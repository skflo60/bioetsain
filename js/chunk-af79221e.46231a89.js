(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af79221e"],{1799:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPages>1?a("div",{staticClass:"mb-4 mt-6"},[a("div",{staticClass:"flex align-center justify-center"},[a("div",{staticClass:"flex"},[t.isFirst?a("PaginationItem",{staticClass:"rounded rounded-r-none",on:{"hanlder-click":function(e){return t.handlerPage(t._currentPage-1)}}},[t._v("\n        Previous\n      ")]):t._e()],1),a("div",{staticClass:"flex"},t._l(t._pages,function(e){return a("PaginationItem",{key:e,class:{"cursor-default text-white pointer-events-none bg-blue-dark":t._currentPage===e},on:{"hanlder-click":function(a){return t.handlerPage(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),1),a("div",{staticClass:"flex"},[t.isLast?a("PaginationItem",{on:{"hanlder-click":function(e){return t.handlerPage(t._currentPage+1)}}},[t._v("\n        Next\n      ")]):t._e()],1)])]):t._e()},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"inline-block no-underline text-grey-darker bg-white p-2 px-3 shadow-md",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handlerClick(e)}}},[t._t("default")],2)},s=[],c={methods:{handlerClick:function(){this.$emit("hanlder-click")}}},o=c,u=a("2877"),d=Object(u["a"])(o,n,s,!1,null,null,null),l=d.exports,p={props:["currentPage","pageLimit","pages"],components:{PaginationItem:l},data:function(){return{isHasTotalPages:!1,isFirst:!1,isLast:!1,_pages:[]}},computed:{_currentPage:function(){return this.currentPage},_pageLimit:function(){return this.pageLimit||8},totalPages:function(){return this.pages&&!this.isHasTotalPages&&(this.isHasTotalPages=!0,this.pagination(1,this.pages)),this.pages}},methods:{handlerPage:function(t){this.$emit("handler-page",t),this.pagination(t,this.totalPages)},pagination:function(t,e){var a,r;this._pages=[];r=a=Math.min(t,e);for(var i=1;i<this._pageLimit&&i<e;)r>1&&(r--,i++),i<this._pageLimit&&a<e&&(a++,i++);for(var n=r;n<=a;n++)this._pages.push(n);this.isFirst=-1===this._pages.indexOf(1),this.isLast=-1===this._pages.indexOf(e)}}},f=p,m=Object(u["a"])(f,r,i,!1,null,"2b53fe80",null);e["a"]=m.exports},"1e35":function(t,e,a){"use strict";var r=a("7424"),i="/products";e["a"]={getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])().get("".concat(i),{params:t})},getProductsById:function(t){return Object(r["a"])().get("".concat(i,"/").concat(t))},getProductsRelatedById:function(t){return Object(r["a"])().get("".concat(i,"/").concat(t,"/related"))},getProductsByPage:function(t){return Object(r["a"])().get("".concat(i,"?page=").concat(t))},updateProduct:function(t){return Object(r["a"])().post("".concat(i),t)}}},"2dbe":function(t,e,a){},"77ca":function(t,e,a){"use strict";a("7f7f");var r=a("f499"),i=a.n(r),n=a("cebc"),s=a("2f62"),c=a("fa7d");e["a"]={methods:Object(n["a"])({},Object(s["b"])(["addCart","refreshCart","incrementCart"]),{addToCart:function(t){var e=JSON.parse(localStorage.getItem("cart"))||[];if(localStorage.setItem("last-add",i()(t)),e.length){var a=Object(c["a"])(e,t._id);a?(this.incrementCart(a),localStorage.setItem("cart",i()(e)),this.refreshCart(a)):this.updateToCart(e,t)}else this.updateToCart(e,t)},updateToCart:function(t,e){var a={id:e._id,image:e.image,name:e.name,price:e.price,subtotal:1*e.price,qty:1};t.push(a),this.addCart(a),localStorage.setItem("cart",i()(t))}})}},9084:function(t,e,a){"use strict";var r=a("2dbe"),i=a.n(r);i.a},a21f:function(t,e,a){var r=a("584a"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},be6f:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("router-link",{staticClass:"block min-height",attrs:{tag:"a",to:{name:"product",params:{id:t.product._id}}}},[a("img",{attrs:{src:t.product.image||"/legumes.jpg",alt:t.product.name}})]),a("div",{staticClass:"p-3"},[a("h4",{staticClass:"text-md mb-1 leading-tight font-medium"},[t._v(t._s(t.product.name))]),a("p",{staticClass:"font-semibold text-md mb-2"},[t._v(t._s(t._f("currency")(t.product.price)))]),a("p",{staticClass:"text-sm text-grey-darker mb-2"},[t._v(t._s(t.product.description.substring(0,50)))]),a("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white",on:{click:function(e){return t.addToCart(t.product)}}},[t._v("\n      Ajouter au panier\n    ")])])],1)},i=[],n=a("77ca"),s={props:["product"],mixins:[n["a"]]},c=s,o=(a("9084"),a("2877")),u=Object(o["a"])(c,r,i,!1,null,"9493ac20",null);e["a"]=u.exports},d388:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container max-w-xl mx-auto mb-4 px-4"},[a("div",{staticClass:"flex flex-wrap"},[a("div",{staticClass:"w-full"},[t.loggedIn&&"fwattier"===t.user?a("div",{staticClass:"admin"},[a("div",{staticClass:"title"},[t._v("Modifier le produit")]),a("form",{attrs:{id:"formProduct"},on:{submit:t.edit}},[a("input",{staticClass:"p-2 w-full",attrs:{type:"text"},domProps:{value:t.product.name}}),a("input",{staticClass:"p-2 w-full",attrs:{type:"text"},domProps:{value:t.product.price}}),a("input",{staticClass:"p-2 w-full",attrs:{type:"text"},domProps:{value:t.product.description}}),a("input",{staticClass:"p-2 w-full",attrs:{type:"text"},domProps:{value:t.product.image}}),t._l(t.months,function(e){return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.months,expression:"product.months"}],attrs:{type:"checkbox",id:e._id},domProps:{value:e._id,checked:Array.isArray(t.product.months)?t._i(t.product.months,e._id)>-1:t.product.months},on:{change:function(a){var r=t.product.months,i=a.target,n=!!i.checked;if(Array.isArray(r)){var s=e._id,c=t._i(r,s);i.checked?c<0&&t.$set(t.product,"months",r.concat([s])):c>-1&&t.$set(t.product,"months",r.slice(0,c).concat(r.slice(c+1)))}else t.$set(t.product,"months",n)}}}),a("label",{attrs:{for:e._id}},[t._v(t._s(e.value))])])}),a("span",[t._v("Saison des "+t._s(t.product.name))]),a("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white"},[t._v("\n            Modifier\n          ")])],2)]):t._e()])])])},i=[],n=a("cebc"),s=a("2f62"),c=a("1e35"),o=a("be6f"),u=a("1799"),d=a("1d9f"),l={components:{Product:o["a"],Pagination:u["a"],Categories:d["a"]},data:function(){return{user:localStorage.getItem("user"),product:{},months:[{_id:0,value:"Janvier"},{_id:1,value:"Février"},{_id:2,value:"Mars"},{_id:3,value:"Avril"},{_id:4,value:"Mai"},{_id:5,value:"Juin"},{_id:6,value:"Juillet"},{_id:7,value:"Août"},{_id:8,value:"Septembre"},{_id:9,value:"Octobre"},{_id:10,value:"Novembre"},{_id:11,value:"Décembre"}]}},computed:Object(n["a"])({},Object(s["c"])({loggedIn:"isAuthenticated"})),created:function(){var t=this;c["a"].getProductsById(this.$route.params.id).then(function(e){t.product=e.data.product})},mounted:function(){},methods:{edit:function(t){var e=this;t.preventDefault(),c["a"].updateProduct(this.product).then(function(t){console.log(t),e.product=t.data,e.$router.go(-1)}).catch(function(t){console.log(t)})}}},p=l,f=a("2877"),m=Object(f["a"])(p,r,i,!1,null,"2ae4ae60",null);e["default"]=m.exports},f499:function(t,e,a){t.exports=a("a21f")}}]);
//# sourceMappingURL=chunk-af79221e.46231a89.js.map