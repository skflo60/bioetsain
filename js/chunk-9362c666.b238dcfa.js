(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9362c666"],{"1af6":function(t,e,r){var a=r("63b6");a(a.S,"Array",{isArray:r("9003")})},"469f":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("7d7b")},"5d73":function(t,e,r){t.exports=r("469f")},"7d7b":function(t,e,r){var a=r("e4ae"),n=r("7cd6");t.exports=r("584a").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},"8ea9":function(t,e,r){"use strict";var a=r("973f"),n=r.n(a);n.a},"973f":function(t,e,r){},a745:function(t,e,r){t.exports=r("f410")},cf2a:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container max-w-xl mx-auto mb-4 px-4"},[r("div",{staticClass:"flex flex-wrap"},[r("div",{staticClass:"w-full"},[r("div",{attrs:{id:"map"}}),r("div",{staticClass:"summary-wrapper"},[r("div",{staticClass:"sum"},[r("p",[t._v("Vos ingrédients sont en route.")]),r("p",[t._v("Arrivée estimée : "+t._s(t.deliveryTime))])])])])])])},n=[],i=(r("28a5"),r("a745")),o=r.n(i);function s(t){if(o()(t))return t}var c=r("5d73"),u=r.n(c);function l(t,e){var r=[],a=!0,n=!1,i=void 0;try{for(var o,s=u()(t);!(a=(o=s.next()).done);a=!0)if(r.push(o.value),e&&r.length===e)break}catch(c){n=!0,i=c}finally{try{a||null==s["return"]||s["return"]()}finally{if(n)throw i}}return r}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return s(t)||l(t,e)||p()}var f=r("c060"),m=L.icon({iconUrl:"https://cdn1.iconfinder.com/data/icons/bicycle-bike-sport/154/geo-point-bike-bicycle-cycle-sport-512.png",iconSize:[100,100],iconAnchor:[25,50],popupAnchor:[-3,-76]}),v={components:{},data:function(){return{deliveryTime:null,duration:0,travel:null,mapMarkers:[],macarte:null}},sockets:{newCoords:function(t){console.log(t),this.updatePosition(t)}},created:function(){},mounted:function(){this.updatePosition()},methods:{updatePosition:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.271573,49.853934",r=e.split(","),a=d(r,2),n=a[0],i=a[1];this.initMap(i,n),this.updateMarker(i,n),f["a"].getDirection(localStorage.getItem("destination"),e).then(function(e){if(e.data.features&&e.data.features.length>0){var r=e.data.features[0];if(r.properties.summary&&r.properties.summary.duration){t.travel=r.properties.summary,t.duration=Math.round(t.travel.duration/100);var a=new Date;a.setMinutes(a.getMinutes()+t.duration),t.deliveryTime=a.toLocaleTimeString().split(" ")[0]}}})},initMap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:49.853934,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.271573;this.macarte=L.map("map").setView([t,e],15),L.tileLayer("https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{attribution:"",minZoom:1,maxZoom:20}).addTo(this.macarte)},updateMarker:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:49.853934,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.271573,r=0;r<this.mapMarkers.length;r++)this.macarte.removeLayer(this.mapMarkers[r]);this.mapMarkers=[];var a=L.marker([t,e],{icon:m});this.mapMarkers.push(a),a.addTo(this.macarte)}}},h=v,y=(r("8ea9"),r("2877")),g=Object(y["a"])(h,a,n,!1,null,"6da573f9",null);e["default"]=g.exports},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-9362c666.b238dcfa.js.map