(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27a3f1a4"],{1799:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPages>1?a("div",{staticClass:"mb-4 mt-6"},[a("div",{staticClass:"flex align-center justify-center"},[a("div",{staticClass:"flex"},[t.isFirst?a("PaginationItem",{staticClass:"rounded rounded-r-none",on:{"hanlder-click":function(e){return t.handlerPage(t._currentPage-1)}}},[t._v("\n        Previous\n      ")]):t._e()],1),a("div",{staticClass:"flex"},t._l(t._pages,function(e){return a("PaginationItem",{key:e,class:{"cursor-default text-white pointer-events-none bg-blue-dark":t._currentPage===e},on:{"hanlder-click":function(a){return t.handlerPage(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),1),a("div",{staticClass:"flex"},[t.isLast?a("PaginationItem",{on:{"hanlder-click":function(e){return t.handlerPage(t._currentPage+1)}}},[t._v("\n        Next\n      ")]):t._e()],1)])]):t._e()},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"inline-block no-underline text-grey-darker bg-white p-2 px-3 shadow-md",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handlerClick(e)}}},[t._t("default")],2)},s=[],c={methods:{handlerClick:function(){this.$emit("hanlder-click")}}},o=c,u=a("2877"),l=Object(u["a"])(o,i,s,!1,null,null,null),d=l.exports,p={props:["currentPage","pageLimit","pages"],components:{PaginationItem:d},data:function(){return{isHasTotalPages:!1,isFirst:!1,isLast:!1,_pages:[]}},computed:{_currentPage:function(){return this.currentPage},_pageLimit:function(){return this.pageLimit||8},totalPages:function(){return this.pages&&!this.isHasTotalPages&&(this.isHasTotalPages=!0,this.pagination(1,this.pages)),this.pages}},methods:{handlerPage:function(t){this.$emit("handler-page",t),this.pagination(t,this.totalPages)},pagination:function(t,e){var a,n;this._pages=[];n=a=Math.min(t,e);for(var r=1;r<this._pageLimit&&r<e;)n>1&&(n--,r++),r<this._pageLimit&&a<e&&(a++,r++);for(var i=n;i<=a;i++)this._pages.push(i);this.isFirst=-1===this._pages.indexOf(1),this.isLast=-1===this._pages.indexOf(e)}}},f=p,g=Object(u["a"])(f,n,r,!1,null,"2b53fe80",null);e["a"]=g.exports},"1e35":function(t,e,a){"use strict";var n=a("7424"),r="/products";e["a"]={getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])().get("".concat(r),{params:t})},getProductsById:function(t){return Object(n["a"])().get("".concat(r,"/").concat(t))},getProductsRelatedById:function(t){return Object(n["a"])().get("".concat(r,"/").concat(t,"/related"))},getProductsByPage:function(t){return Object(n["a"])().get("".concat(r,"?page=").concat(t))},updateProduct:function(t){return Object(n["a"])().post("".concat(r),t)}}},"2a50":function(t,e,a){"use strict";var n=a("dee7"),r=a.n(n);r.a},"77ca":function(t,e,a){"use strict";a("7f7f");var n=a("f499"),r=a.n(n),i=a("cebc"),s=a("2f62"),c=a("fa7d");e["a"]={methods:Object(i["a"])({},Object(s["b"])(["addCart","refreshCart","incrementCart"]),{addToCart:function(t){var e=JSON.parse(localStorage.getItem("cart"))||[];if(localStorage.setItem("last-add",r()(t)),e.length){var a=Object(c["a"])(e,t._id);a?(this.incrementCart(a),localStorage.setItem("cart",r()(e)),this.refreshCart(a)):this.updateToCart(e,t)}else this.updateToCart(e,t)},updateToCart:function(t,e){var a={id:e._id,image:e.image,name:e.name,price:e.price,subtotal:1*e.price,qty:1};t.push(a),this.addCart(a),localStorage.setItem("cart",r()(t))}})}},"93d7":function(t,e,a){},a21f:function(t,e,a){var n=a("584a"),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},be6f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("router-link",{staticClass:"block min-height",attrs:{tag:"a",to:{name:"product",params:{id:t.product._id}}}},[a("img",{attrs:{src:t.product.image||"/legumes.jpg",alt:t.product.name}})]),a("div",{staticClass:"p-3"},[a("h3",{staticClass:"text-lg mb-1 leading-tight font-medium"},[t._v(t._s(t.product.name))]),a("p",{staticClass:"font-semibold text-md mb-2"},[t._v(t._s(t._f("currency")(t.product.price)))]),a("p",{staticClass:"text-sm text-grey-darker mb-2"},[t._v(t._s(t.product.description.substring(0,50)))]),a("button",{staticClass:"block w-full border shadow p-2 rounded mt-2 hover:bg-blue-dark hover:text-white",on:{click:function(e){return t.addToCart(t.product)}}},[t._v("\n      Ajouter au panier\n    ")])])],1)},r=[],i=a("77ca"),s={props:["product"],mixins:[i["a"]]},c=s,o=(a("dff8"),a("2877")),u=Object(o["a"])(c,n,r,!1,null,"6c81103c",null);e["a"]=u.exports},dee7:function(t,e,a){},dff8:function(t,e,a){"use strict";var n=a("93d7"),r=a.n(n);r.a},edb0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container max-w-xl mx-auto mb-4 px-4"},[a("div",{staticClass:"flex flex-wrap"},[a("div",{staticClass:"w-full"},[t.loggedIn&&"fwattier"===t.user?a("div",{staticClass:"admin"},[t._v("\n        Hello Livreur ;)\n        "),a("router-link",{staticClass:"inline-block no-underline px-3 py-2 capitalize",attrs:{tag:"a",to:{name:"products"}}},[t._v("\n        Administrer les produits\n      ")]),a("div",[t._v(t._s(t.currentCoords))]),a("button",{on:{click:t.updateLocation}},[t._v("Rafraichir")]),a("div",{attrs:{id:"map"}})],1):t._e()])])])},r=[],i=a("cebc"),s=a("2f62"),c=(a("1e35"),a("be6f")),o=a("1799"),u=a("1d9f"),l=L.icon({iconUrl:"https://cdn1.iconfinder.com/data/icons/bicycle-bike-sport/154/geo-point-bike-bicycle-cycle-sport-512.png",iconSize:[25,50],iconAnchor:[25,50],popupAnchor:[-3,-76]}),d={components:{Product:c["a"],Pagination:o["a"],Categories:u["a"]},data:function(){return{user:localStorage.getItem("user"),currentCoords:null,mapMarkers:[]}},computed:Object(i["a"])({},Object(s["c"])({loggedIn:"isAuthenticated"})),created:function(){},mounted:function(){var t=this;this.macarte=this.initMap(),setInterval(function(){return t.updateLocation()},5e3)},methods:{updateLocation:function(){var t=this,e=this.macarte;this.$getLocation({enableHighAccuracy:!0}).then(function(a){t.currentCoords=a,t.$socket.emit("updateCoords",t.currentCoords.lng+","+t.currentCoords.lat),t.updateMarker(t.currentCoords.lat,t.currentCoords.lng,e)})},initMap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:49.853934,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.271573,a=L.map("map").setView([t,e],15);return L.tileLayer("https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{attribution:"",minZoom:1,maxZoom:20}).addTo(a),a},updateMarker:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:49.853934,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.271573,a=arguments.length>2?arguments[2]:void 0,n=0;n<this.mapMarkers.length;n++)a.removeLayer(this.mapMarkers[n]);this.mapMarkers=[];var r=L.marker([t,e],{icon:l});this.mapMarkers.push(r),r.addTo(a)}}},p=d,f=(a("2a50"),a("2877")),g=Object(f["a"])(p,n,r,!1,null,"14ee4440",null);e["default"]=g.exports},f499:function(t,e,a){t.exports=a("a21f")}}]);
//# sourceMappingURL=chunk-27a3f1a4.c5c8a69a.js.map